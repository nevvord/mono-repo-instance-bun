# üêï Husky Setup Guide

–†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é Husky –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫ –≤ Git hooks.

## üìã –ß—Ç–æ —Ç–∞–∫–æ–µ Husky?

Husky - —ç—Ç–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Git hooks, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å–∫–∞—Ç—å –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–æ–¥–∞ –ø–µ—Ä–µ–¥ –∫–æ–º–º–∏—Ç–∞–º–∏ –∏ –ø—É—à–µ–º.

## üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

Husky —É–∂–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –≤ –ø—Ä–æ–µ–∫—Ç–µ. –î–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –≤ –Ω–æ–≤–æ–º –ø—Ä–æ–µ–∫—Ç–µ:

```bash
bun add -D husky lint-staged
```

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞

### 1. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Husky

```bash
bun run prepare
```

### 2. –°–æ–∑–¥–∞–Ω–∏–µ Hooks

Hooks —Å–æ–∑–¥–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ:

- `.husky/pre-commit` - –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–µ—Ä–µ–¥ –∫–æ–º–º–∏—Ç–æ–º
- `.husky/pre-push` - –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–µ—Ä–µ–¥ –ø—É—à–µ–º
- `.husky/commit-msg` - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π –∫–æ–º–º–∏—Ç–æ–≤

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### Package.json Scripts

```json
{
  "scripts": {
    "prepare": "husky",
    "pre-commit": "lint-staged",
    "pre-push": "bun run check && bun run test"
  }
}
```

### Lint-staged Configuration

```json
{
  "lint-staged": {
    "*.{ts,tsx,js,jsx}": ["eslint --fix", "prettier --write"],
    "*.{json,md,yml,yaml}": ["prettier --write"]
  }
}
```

## üìù –ü—Ä–∞–≤–∏–ª–∞ —Å–æ–æ–±—â–µ–Ω–∏–π –∫–æ–º–º–∏—Ç–æ–≤

### –§–æ—Ä–º–∞—Ç

```
<type>(<scope>): <description>

[optional body]

[optional footer]
```

### –¢–∏–ø—ã –∫–æ–º–º–∏—Ç–æ–≤

- `feat`: –ù–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
- `fix`: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–∞–≥–∞
- `docs`: –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
- `style`: –ò–∑–º–µ–Ω–µ–Ω–∏—è —Å—Ç–∏–ª—è –∫–æ–¥–∞
- `refactor`: –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –∫–æ–¥–∞
- `test`: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∏–ª–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤
- `chore`: –ó–∞–¥–∞—á–∏ –ø–æ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—é

### –ü—Ä–∏–º–µ—Ä—ã

‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ:

- `feat(auth): add user authentication system`
- `fix(api): resolve database connection issue`
- `docs(readme): update installation instructions`
- `style(ui): format components with prettier`
- `test(core): add unit tests for config validation`

‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ:

- `fix bug`
- `update`
- `wip`
- `stuff`

### –ü—Ä–∞–≤–∏–ª–∞

1. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–æ–ª—å–∫–æ –∞–Ω–≥–ª–∏–π—Å–∫–∏–π —è–∑—ã–∫
2. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –Ω–∞—Å—Ç–æ—è—â–µ–µ –≤—Ä–µ–º—è ("add" –≤–º–µ—Å—Ç–æ "added")
3. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–æ–≤–µ–ª–∏—Ç–µ–ª—å–Ω–æ–µ –Ω–∞–∫–ª–æ–Ω–µ–Ω–∏–µ ("move" –≤–º–µ—Å—Ç–æ "moves")
4. –ù–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∑–∞–≥–ª–∞–≤–Ω—É—é –±—É–∫–≤—É –≤ –Ω–∞—á–∞–ª–µ
5. –ù–µ —Å—Ç–∞–≤—å—Ç–µ —Ç–æ—á–∫—É –≤ –∫–æ–Ω—Ü–µ
6. –ú–∞–∫—Å–∏–º—É–º 72 —Å–∏–º–≤–æ–ª–∞ –¥–ª—è –ø–µ—Ä–≤–æ–π —Å—Ç—Ä–æ–∫–∏

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∏

### Pre-commit Hook

–ü–µ—Ä–µ–¥ –∫–∞–∂–¥—ã–º –∫–æ–º–º–∏—Ç–æ–º –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è:

1. **ESLint** - –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞ –∫–æ–¥–∞
2. **Prettier** - —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞
3. **Lint-staged** - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ–ª—å–∫–æ –∏–∑–º–µ–Ω–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤

### Pre-push Hook

–ü–µ—Ä–µ–¥ –∫–∞–∂–¥—ã–º –ø—É—à–µ–º –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è:

1. **TypeScript** - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤
2. **ESLint** - –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞ –∫–æ–¥–∞
3. **Prettier** - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
4. **Tests** - –∑–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤

### Commit-msg Hook

–ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Ñ–æ—Ä–º–∞—Ç —Å–æ–æ–±—â–µ–Ω–∏—è –∫–æ–º–º–∏—Ç–∞:

1. –ù–µ –ø—É—Å—Ç–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
2. –ú–∏–Ω–∏–º—É–º 10 —Å–∏–º–≤–æ–ª–æ–≤
3. –ú–∞–∫—Å–∏–º—É–º 72 —Å–∏–º–≤–æ–ª–∞ –¥–ª—è –ø–µ—Ä–≤–æ–π —Å—Ç—Ä–æ–∫–∏
4. –ù–µ –∑–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è —Ç–æ—á–∫–æ–π
5. –ù–µ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å –∑–∞–≥–ª–∞–≤–Ω–æ–π –±—É–∫–≤—ã

## üõ†Ô∏è –ö–æ–º–∞–Ω–¥—ã

### –†—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫ –ø—Ä–æ–≤–µ—Ä–æ–∫

```bash
# –ó–∞–ø—É—Å–∫ pre-commit –ø—Ä–æ–≤–µ—Ä–æ–∫
bun run pre-commit

# –ó–∞–ø—É—Å–∫ pre-push –ø—Ä–æ–≤–µ—Ä–æ–∫
bun run pre-push

# –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫
bun run check

# –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
bun run test
```

### –û—Ç–∫–ª—é—á–µ–Ω–∏–µ hooks (–≤—Ä–µ–º–µ–Ω–Ω–æ–µ)

```bash
# –û—Ç–∫–ª—é—á–∏—Ç—å pre-commit hook
git commit --no-verify -m "your message"

# –û—Ç–∫–ª—é—á–∏—Ç—å pre-push hook
git push --no-verify
```

## üîß –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### Hook –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Ñ–∞–π–ª—ã –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–µ:

   ```bash
   chmod +x .husky/*
   ```

2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ Husky —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω:
   ```bash
   bun run prepare
   ```

### –û—à–∏–±–∫–∏ –≤ –ø—Ä–æ–≤–µ—Ä–∫–∞—Ö

1. –ò—Å–ø—Ä–∞–≤—å—Ç–µ –æ—à–∏–±–∫–∏ ESLint:

   ```bash
   bun run lint:fix
   ```

2. –ò—Å–ø—Ä–∞–≤—å—Ç–µ –æ—à–∏–±–∫–∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:

   ```bash
   bun run format
   ```

3. –ò—Å–ø—Ä–∞–≤—å—Ç–µ –æ—à–∏–±–∫–∏ —Ç–∏–ø–æ–≤:
   ```bash
   bun run type-check
   ```

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ hook

```bash
# –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π hook
npx husky add .husky/hook-name "command"

# –°–¥–µ–ª–∞—Ç—å –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º
chmod +x .husky/hook-name
```

## üìö –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- [Husky Documentation](https://typicode.github.io/husky/)
- [Lint-staged Documentation](https://github.com/okonet/lint-staged)
- [Conventional Commits](https://www.conventionalcommits.org/)
